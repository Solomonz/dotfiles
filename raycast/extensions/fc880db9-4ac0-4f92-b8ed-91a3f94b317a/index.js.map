{
  "version": 3,
  "sources": ["../src/index.tsx", "../src/fileWrite.tsx"],
  "sourcesContent": ["import { Action, ActionPanel, Icon, List, clearSearchBar } from \"@raycast/api\";\nimport fs from \"fs\";\nimport { useEffect, useState } from \"react\";\nimport { LIST_HISTORY, getInitialValue } from \"./fileWrite\";\n\n// Durstenfeld shuffle\n// https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle#The_modern_algorithm\nfunction shuffle(arr: Array<string>) {\n  const array = [...arr];\n  for (let i = array.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    const temp = array[i];\n    array[i] = array[j];\n    array[j] = temp;\n  }\n  return array;\n}\n\nexport default function Command() {\n  const [items, setItems] = useState<Array<string>>(getInitialValue()?.split(\",\") ?? []);\n  const [newItem, setNewItem] = useState(\"\");\n\n  useEffect(() => {\n    if (items.length > 0) {\n      fs.writeFileSync(LIST_HISTORY, items.join(\",\"));\n    }\n  }, [items]);\n\n  const addItem = async () => {\n    if (newItem === \"\") return;\n    setItems([...items, newItem]);\n    await clearSearchBar();\n  };\n\n  const randomize = () => {\n    const toRandomize = [...items];\n    setItems(shuffle(toRandomize));\n  };\n\n  return (\n    <List\n      searchBarPlaceholder=\"Add items to the list\"\n      onSearchTextChange={(text: string) => setNewItem(text)}\n      searchText={newItem}\n      actions={\n        <ActionPanel>\n          <Action title=\"Add\" onAction={() => addItem()} />\n        </ActionPanel>\n      }\n    >\n      {items.map((item, idx) => (\n        <List.Item\n          key={idx}\n          title={item}\n          actions={\n            <ActionPanel>\n              <Action title=\"Add\" icon={Icon.Plus} onAction={() => addItem()} />\n              <Action\n                title=\"Randomize\"\n                icon={Icon.Wand}\n                onAction={() => randomize()}\n                shortcut={{ modifiers: [\"cmd\"], key: \"j\" }}\n              />\n              <Action.CopyToClipboard\n                title=\"Copy List\"\n                content={items.join(\", \")}\n                shortcut={{ modifiers: [\"cmd\"], key: \"l\" }}\n              />\n              <Action.Trash\n                onTrash={() => setItems([])}\n                paths={LIST_HISTORY}\n                title=\"Clear List\"\n                shortcut={{ modifiers: [\"ctrl\"], key: \"x\" }}\n              />\n            </ActionPanel>\n          }\n        />\n      ))}\n    </List>\n  );\n}\n", "import { environment } from \"@raycast/api\";\nimport fs from \"fs\";\n\nexport const LIST_HISTORY = `${environment.supportPath}/list_history.txt`;\nconst getInitialValue = () => {\n  try {\n    const storedItemsBuffer = fs.readFileSync(LIST_HISTORY);\n    return storedItemsBuffer.toString();\n  } catch (error) {\n    fs.mkdirSync(environment.supportPath, { recursive: true });\n  }\n};\n\nexport { getInitialValue };\n"],
  "mappings": "0jBAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,aAAAE,IAAA,eAAAC,EAAAH,GAAA,IAAAI,EAAgE,wBAChEC,EAAe,iBACfC,EAAoC,iBCFpC,IAAAC,EAA4B,wBAC5BC,EAAe,iBAEFC,EAAe,GAAG,cAAY,+BACrCC,EAAkB,IAAM,CAC5B,GAAI,CAEF,OAD0B,EAAAC,QAAG,aAAaF,CAAY,EAC7B,SAAS,CACpC,MAAE,CACA,EAAAE,QAAG,UAAU,cAAY,YAAa,CAAE,UAAW,EAAK,CAAC,CAC3D,CACF,EDmCU,IAAAC,EAAA,6BAvCV,SAASC,EAAQC,EAAoB,CACnC,IAAMC,EAAQ,CAAC,GAAGD,CAAG,EACrB,QAASE,EAAID,EAAM,OAAS,EAAGC,EAAI,EAAGA,IAAK,CACzC,IAAMC,EAAI,KAAK,MAAM,KAAK,OAAO,GAAKD,EAAI,EAAE,EACtCE,EAAOH,EAAMC,CAAC,EACpBD,EAAMC,CAAC,EAAID,EAAME,CAAC,EAClBF,EAAME,CAAC,EAAIC,EAEb,OAAOH,CACT,CAEe,SAARI,GAA2B,CAChC,GAAM,CAACC,EAAOC,CAAQ,KAAI,YAAwBC,EAAgB,GAAG,MAAM,GAAG,GAAK,CAAC,CAAC,EAC/E,CAACC,EAASC,CAAU,KAAI,YAAS,EAAE,KAEzC,aAAU,IAAM,CACVJ,EAAM,OAAS,GACjB,EAAAK,QAAG,cAAcC,EAAcN,EAAM,KAAK,GAAG,CAAC,CAElD,EAAG,CAACA,CAAK,CAAC,EAEV,IAAMO,EAAU,SAAY,CACtBJ,IAAY,KAChBF,EAAS,CAAC,GAAGD,EAAOG,CAAO,CAAC,EAC5B,QAAM,kBAAe,EACvB,EAEMK,EAAY,IAAM,CACtB,IAAMC,EAAc,CAAC,GAAGT,CAAK,EAC7BC,EAASR,EAAQgB,CAAW,CAAC,CAC/B,EAEA,SACE,OAAC,QACC,qBAAqB,wBACrB,mBAAqBC,GAAiBN,EAAWM,CAAI,EACrD,WAAYP,EACZ,WACE,OAAC,eACC,mBAAC,UAAO,MAAM,MAAM,SAAU,IAAMI,EAAQ,EAAG,EACjD,EAGD,SAAAP,EAAM,IAAI,CAACW,EAAMC,OAChB,OAAC,OAAK,KAAL,CAEC,MAAOD,EACP,WACE,QAAC,eACC,oBAAC,UAAO,MAAM,MAAM,KAAM,OAAK,KAAM,SAAU,IAAMJ,EAAQ,EAAG,KAChE,OAAC,UACC,MAAM,YACN,KAAM,OAAK,KACX,SAAU,IAAMC,EAAU,EAC1B,SAAU,CAAE,UAAW,CAAC,KAAK,EAAG,IAAK,GAAI,EAC3C,KACA,OAAC,SAAO,gBAAP,CACC,MAAM,YACN,QAASR,EAAM,KAAK,IAAI,EACxB,SAAU,CAAE,UAAW,CAAC,KAAK,EAAG,IAAK,GAAI,EAC3C,KACA,OAAC,SAAO,MAAP,CACC,QAAS,IAAMC,EAAS,CAAC,CAAC,EAC1B,MAAOK,EACP,MAAM,aACN,SAAU,CAAE,UAAW,CAAC,MAAM,EAAG,IAAK,GAAI,EAC5C,GACF,GAtBGM,CAwBP,CACD,EACH,CAEJ",
  "names": ["src_exports", "__export", "Command", "__toCommonJS", "import_api", "import_fs", "import_react", "import_api", "import_fs", "LIST_HISTORY", "getInitialValue", "fs", "import_jsx_runtime", "shuffle", "arr", "array", "i", "j", "temp", "Command", "items", "setItems", "getInitialValue", "newItem", "setNewItem", "fs", "LIST_HISTORY", "addItem", "randomize", "toRandomize", "text", "item", "idx"]
}
